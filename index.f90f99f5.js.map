{"mappings":"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","sources":["<anon>","script/main.js","node_modules/uuid/dist/esm-browser/v4.js","node_modules/uuid/dist/esm-browser/native.js","node_modules/uuid/dist/esm-browser/rng.js","node_modules/uuid/dist/esm-browser/stringify.js","node_modules/uuid/dist/esm-browser/validate.js","node_modules/uuid/dist/esm-browser/regex.js"],"sourcesContent":["const $7ffc1f94643dc7e4$var$randomUUID = typeof crypto !== \"undefined\" && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar $7ffc1f94643dc7e4$export$2e2bcd8739ae039 = {\n    randomUUID: $7ffc1f94643dc7e4$var$randomUUID\n};\n\n\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet $568f4ee4022ba00e$var$getRandomValues;\nconst $568f4ee4022ba00e$var$rnds8 = new Uint8Array(16);\nfunction $568f4ee4022ba00e$export$2e2bcd8739ae039() {\n    // lazy load so that environments that need to polyfill have a chance to do so\n    if (!$568f4ee4022ba00e$var$getRandomValues) {\n        // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n        $568f4ee4022ba00e$var$getRandomValues = typeof crypto !== \"undefined\" && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n        if (!$568f4ee4022ba00e$var$getRandomValues) throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");\n    }\n    return $568f4ee4022ba00e$var$getRandomValues($568f4ee4022ba00e$var$rnds8);\n}\n\n\nvar $32c496bfb6c27b56$export$2e2bcd8739ae039 = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\n\nfunction $46d323206dcbf256$var$validate(uuid) {\n    return typeof uuid === \"string\" && (0, $32c496bfb6c27b56$export$2e2bcd8739ae039).test(uuid);\n}\nvar $46d323206dcbf256$export$2e2bcd8739ae039 = $46d323206dcbf256$var$validate;\n\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */ const $1d0137947e8554ce$var$byteToHex = [];\nfor(let i = 0; i < 256; ++i)$1d0137947e8554ce$var$byteToHex.push((i + 0x100).toString(16).slice(1));\nfunction $1d0137947e8554ce$export$8fb373d660548968(arr, offset = 0) {\n    // Note: Be careful editing this code!  It's been tuned for performance\n    // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n    return $1d0137947e8554ce$var$byteToHex[arr[offset + 0]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 1]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 2]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 3]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 4]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 5]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 6]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 7]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 8]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 9]] + \"-\" + $1d0137947e8554ce$var$byteToHex[arr[offset + 10]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 11]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 12]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 13]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 14]] + $1d0137947e8554ce$var$byteToHex[arr[offset + 15]];\n}\nfunction $1d0137947e8554ce$var$stringify(arr, offset = 0) {\n    const uuid = $1d0137947e8554ce$export$8fb373d660548968(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n    // of the following:\n    // - One or more input array values don't map to a hex octet (leading to\n    // \"undefined\" in the uuid)\n    // - Invalid input values for the RFC `version` or `variant` fields\n    if (!(0, $46d323206dcbf256$export$2e2bcd8739ae039)(uuid)) throw TypeError(\"Stringified UUID is invalid\");\n    return uuid;\n}\nvar $1d0137947e8554ce$export$2e2bcd8739ae039 = $1d0137947e8554ce$var$stringify;\n\n\nfunction $3fa3ae484854b431$var$v4(options, buf, offset) {\n    if ((0, $7ffc1f94643dc7e4$export$2e2bcd8739ae039).randomUUID && !buf && !options) return (0, $7ffc1f94643dc7e4$export$2e2bcd8739ae039).randomUUID();\n    options = options || {};\n    const rnds = options.random || (options.rng || (0, $568f4ee4022ba00e$export$2e2bcd8739ae039))(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = rnds[6] & 0x0f | 0x40;\n    rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n    if (buf) {\n        offset = offset || 0;\n        for(let i = 0; i < 16; ++i)buf[offset + i] = rnds[i];\n        return buf;\n    }\n    return (0, $1d0137947e8554ce$export$8fb373d660548968)(rnds);\n}\nvar $3fa3ae484854b431$export$2e2bcd8739ae039 = $3fa3ae484854b431$var$v4;\n\n\n\"use strict\";\nclass $ba322bfe4d533f91$var$TodoItem {\n    done = false;\n    constructor(text){\n        // this.id = Date.now();\n        this.id = (0, $3fa3ae484854b431$export$2e2bcd8739ae039)();\n        this.text = text;\n        this.done = false;\n        this.isNew = true;\n    }\n}\nclass $ba322bfe4d533f91$var$TodoLList {\n    data = [];\n    findTodoItemIndex(id) {\n        return this.data.findIndex((item)=>item.id === id);\n    }\n    add = (text)=>{\n        const todo = new $ba322bfe4d533f91$var$TodoItem(text);\n        this.data.unshift(todo);\n        return todo;\n    };\n    remove = (id)=>{\n        const idx = this.findTodoItemIndex(id);\n        if (idx >= 0) this.data.splice(idx, 1);\n    };\n    toggle = (id)=>{\n        const idx = this.findTodoItemIndex(id);\n        console.log(id);\n        if (idx >= 0) {\n            const oldTodoItem = this.data[idx];\n            const newTodoItem = {\n                ...oldTodoItem,\n                done: !oldTodoItem.done\n            };\n            this.data.splice(idx, 1, newTodoItem);\n        }\n    };\n}\nclass $ba322bfe4d533f91$var$TodoListDom extends $ba322bfe4d533f91$var$TodoLList {\n    constructor(){\n        super();\n        this.$form = document.getElementById(\"todo\");\n        this.$formInput = this.$form.text;\n        this.$buttonSubmit = document.getElementById(\"button-submit\");\n        // console.log(this.$buttonSubmit);\n        this.$todoList = document.getElementById(\"todo-list\");\n        this.$popup = document.getElementById(\"popup\");\n        this.$form.addEventListener(\"submit\", this.#onFormSubmit);\n        this.$todoList.addEventListener(\"change\", this.#onTodoItemToogle);\n        this.$popup.addEventListener(\"click\", this.#onPopupClick);\n        this.$todoList.addEventListener(\"click\", this.#onTodoItemClick);\n        this.$formInput.addEventListener(\"input\", this.#checkInput);\n    }\n    #getTodoItemTemplate(todoItem) {\n        return `<li class=\"list__item ${todoItem?.done ? \"active\" : \"\"} ${todoItem?.isNew ? \"new\" : \"\"}\" data-id=\"${todoItem.id}\"><span class=\"list__text\">${todoItem.text}</span>\r\n      <label class=\"list__checkbox-label\"><input class=\"list__checkbox-input\" type=\"checkbox\" ${todoItem.done ? \"checked\" : \"\"} tabindex=\"0\"><span class=\"list__checkbox-button\"><svg class=\"list__checkbox-icon\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.0791 3.08754C12.307 3.31535 12.307 3.68469 12.0791 3.9125L5.66248 10.3292C5.43467 10.557 5.06533 10.557 4.83752 10.3292L1.92085 7.4125C1.69305 7.18469 1.69305 6.81535 1.92085 6.58754C2.14866 6.35974 2.51801 6.35974 2.74581 6.58754L5.25 9.09173L11.2542 3.08754C11.482 2.85974 11.8513 2.85974 12.0791 3.08754Z\"/>\r\n      </svg></span></label>\r\n      <button data-type=\"remove\" class=\"list__delete-button\" type=\"button\">\r\n        <svg class=\"list__delete-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M7 21C6.45 21 5.97933 20.8043 5.588 20.413C5.196 20.021 5 19.55 5 19V6C4.71667 6 4.479 5.90433 4.287 5.713C4.09567 5.521 4 5.28333 4 5C4 4.71667 4.09567 4.479 4.287 4.287C4.479 4.09567 4.71667 4 5 4H9C9 3.71667 9.096 3.479 9.288 3.287C9.47933 3.09567 9.71667 3 10 3H14C14.2833 3 14.521 3.09567 14.713 3.287C14.9043 3.479 15 3.71667 15 4H19C19.2833 4 19.5207 4.09567 19.712 4.287C19.904 4.479 20 4.71667 20 5C20 5.28333 19.904 5.521 19.712 5.713C19.5207 5.90433 19.2833 6 19 6V19C19 19.55 18.8043 20.021 18.413 20.413C18.021 20.8043 17.55 21 17 21H7ZM7 6V19H17V6H7ZM9 16C9 16.2833 9.096 16.5207 9.288 16.712C9.47933 16.904 9.71667 17 10 17C10.2833 17 10.521 16.904 10.713 16.712C10.9043 16.5207 11 16.2833 11 16V9C11 8.71667 10.9043 8.479 10.713 8.287C10.521 8.09567 10.2833 8 10 8C9.71667 8 9.47933 8.09567 9.288 8.287C9.096 8.479 9 8.71667 9 9V16ZM13 16C13 16.2833 13.096 16.5207 13.288 16.712C13.4793 16.904 13.7167 17 14 17C14.2833 17 14.521 16.904 14.713 16.712C14.9043 16.5207 15 16.2833 15 16V9C15 8.71667 14.9043 8.479 14.713 8.287C14.521 8.09567 14.2833 8 14 8C13.7167 8 13.4793 8.09567 13.288 8.287C13.096 8.479 13 8.71667 13 9V16Z\"/>\r\n        </svg>\r\n      </button>\r\n    </li>`;\n    }\n    render() {\n        // this.$todoList.innerHTML = this.data.map((el) => this.#getTodoItemTemplate(el)).join('');\n        this.$todoList.innerHTML = this.data.map(this.#getTodoItemTemplate).join(\"\");\n    }\n    #onTodoItemClick = (event)=>{\n        const { target: target } = event;\n        const type = target?.dataset?.type;\n        if (type === \"remove\") {\n            const id = target?.parentElement?.dataset?.id;\n            if (id) this.popupOpenClose(id);\n        }\n    };\n    #onPopupClick = (event)=>{\n        const { dataset: { type: type, todoid: todoid } = {} } = event?.target || {};\n        console.log(event.target);\n        if (type === \"close\") this.popupOpenClose();\n        if (type === \"yes\" && todoid) {\n            this.remove(todoid);\n            this.render();\n            this.popupOpenClose();\n        }\n    };\n    popupOpenClose = (id)=>{\n        const { classList: classList } = this.$popup;\n        const $submitButton = this.$popup.querySelector('[data-type=\"yes\"]');\n        if (classList.contains(\"popup\")) {\n            classList.remove(\"popup\");\n            $submitButton.removeAttribute(\"data-todoid\");\n        } else {\n            classList.add(\"popup\");\n            $submitButton.setAttribute(\"data-todoid\", id);\n        }\n    };\n    #onFormSubmit = (e)=>{\n        const form = e.target;\n        e.preventDefault();\n        const text = new FormData(form).get(\"text\");\n        if (text.trim()) {\n            const newTodo = this.add(text);\n            form.reset();\n            this.render();\n            setTimeout(()=>{\n                newTodo.isNew = false;\n                this.render();\n            }, 1000);\n        }\n    };\n    #checkInput = (e)=>{\n        const { value: value } = e.target;\n        // console.log(value);\n        if (value.trim()) this.$buttonSubmit.classList.add(\"active\");\n        else this.$buttonSubmit.classList.remove(\"active\");\n    };\n    #onTodoItemToogle = (e)=>{\n        const { id: id } = e.target.parentElement.parentElement.dataset;\n        this.toggle(id);\n        this.render();\n    };\n}\nwindow.addEventListener(\"DOMContentLoaded\", ()=>{\n    const todoApp = new $ba322bfe4d533f91$var$TodoListDom();\n}); // ---------------------------------------------------------------------\n // const todoList = [];\n // const findTodoItemIndex = function findTodoItemIndex(id) {\n //   return todoList.findIndex(item => item.id === id);\n //   };\n // const addNewTodoItem = function addNewTodoItem(text) {\n //   todoList.push(new TodoItem(text));\n // };\n // const removeTodoItem = function removeTodoItem(id) {\n // const idx = findTodoItemIndex(id);\n // if (idx >= 0) {\n //   todoList.splice(idx, 1);\n // }\n // };\n // const toggleTodoDone = function toggleTodoDone(id) {\n //   const idx = findTodoItemIndex(id);\n //   if (idx >= 0) {\n //     const oldTodoItem = todoList[idx];\n //     const newTodoItem = { ...oldTodoItem, done: !oldTodoItem.done };\n //     todoList.splice(idx, 1, newTodoItem);\n //   }\n // };\n // window.addEventListener('DOMContentLoaded', () => {\n // const $form = document.getElementById('todo');\n // const $todoList = document.getElementById('todo-list');\n // const render = function render() {\n //   $todoList.innerHTML = todoList.map(todoItem => {\n //     return `<li class=\"list__item\" data-id=\"${todoItem.id}\">${todoItem.text}<input class=\"list__checkbox-input\" type=\"checkbox\" ${todoItem.done ? 'checked' : ''}></input></li>`\n //   }).join('');\n //   console.log(todoList);\n // };\n // const onFormSubmit = function onFormSubmit(e) {\n //   e.preventDefault();\n //   const text = new FormData($form).get('text');\n //   if (text.trim()) {\n //     addNewTodoItem(text);\n //     $form.reset();\n //     render();\n //   };\n // };\n // const toggle = function toggle(e) {\n //   const {id} = e.target.parentElement.dataset;\n //   toggleTodoDone(Number(id));\n //   render();\n // };\n // $form.addEventListener('submit', onFormSubmit);\n // $todoList.addEventListener('change', toggle);\n // });\n\n\n//# sourceMappingURL=index.f90f99f5.js.map\n"," \"use strict\";\r\nimport { v4 } from 'uuid';\r\n\r\nclass TodoItem {\r\n  done = false;\r\n  \r\n  constructor(text) {\r\n    // this.id = Date.now();\r\n    this.id = v4();\r\n    this.text = text;\r\n    this.done = false;\r\n    this.isNew = true;\r\n  }\r\n};\r\n\r\nclass TodoLList {\r\n  data = [];\r\n\r\n  findTodoItemIndex(id) {\r\n    return this.data.findIndex(item => item.id === id);\r\n  }\r\n\r\n  add = (text) => {\r\n    const todo = new TodoItem(text);\r\n    this.data.unshift(todo);\r\n    return todo;\r\n  }\r\n\r\n  remove = (id) => {\r\n    const idx = this.findTodoItemIndex(id);\r\n    if (idx >= 0) {\r\n      this.data.splice(idx, 1);\r\n    }\r\n  }\r\n\r\n  toggle = (id) => {\r\n    const idx = this.findTodoItemIndex(id);\r\n    console.log(id);\r\n    if (idx >= 0) {\r\n      const oldTodoItem = this.data[idx];      \r\n      const newTodoItem = { ...oldTodoItem, done: !oldTodoItem.done };\r\n      this.data.splice(idx, 1, newTodoItem);\r\n    }\r\n  }\r\n}\r\n\r\nclass TodoListDom extends TodoLList {\r\n  constructor() {\r\n    super()\r\n    this.$form = document.getElementById('todo');\r\n    this.$formInput = this.$form.text;\r\n    this.$buttonSubmit = document.getElementById('button-submit');\r\n    // console.log(this.$buttonSubmit);\r\n    this.$todoList = document.getElementById('todo-list');\r\n    this.$popup = document.getElementById('popup');\r\n\r\n    this.$form.addEventListener('submit', this.#onFormSubmit);\r\n    this.$todoList.addEventListener('change', this.#onTodoItemToogle);\r\n    this.$popup.addEventListener('click', this.#onPopupClick);\r\n    this.$todoList.addEventListener('click', this.#onTodoItemClick);\r\n    this.$formInput.addEventListener('input', this.#checkInput);\r\n  }\r\n\r\n\r\n\r\n  #getTodoItemTemplate(todoItem) {\r\n    return `<li class=\"list__item ${todoItem?.done ? 'active': ''} ${todoItem?.isNew ? 'new': ''}\" data-id=\"${todoItem.id}\"><span class=\"list__text\">${todoItem.text}</span>\r\n      <label class=\"list__checkbox-label\"><input class=\"list__checkbox-input\" type=\"checkbox\" ${todoItem.done ? 'checked' : ''} tabindex=\"0\"><span class=\"list__checkbox-button\"><svg class=\"list__checkbox-icon\" viewBox=\"0 0 14 14\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.0791 3.08754C12.307 3.31535 12.307 3.68469 12.0791 3.9125L5.66248 10.3292C5.43467 10.557 5.06533 10.557 4.83752 10.3292L1.92085 7.4125C1.69305 7.18469 1.69305 6.81535 1.92085 6.58754C2.14866 6.35974 2.51801 6.35974 2.74581 6.58754L5.25 9.09173L11.2542 3.08754C11.482 2.85974 11.8513 2.85974 12.0791 3.08754Z\"/>\r\n      </svg></span></label>\r\n      <button data-type=\"remove\" class=\"list__delete-button\" type=\"button\">\r\n        <svg class=\"list__delete-icon\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M7 21C6.45 21 5.97933 20.8043 5.588 20.413C5.196 20.021 5 19.55 5 19V6C4.71667 6 4.479 5.90433 4.287 5.713C4.09567 5.521 4 5.28333 4 5C4 4.71667 4.09567 4.479 4.287 4.287C4.479 4.09567 4.71667 4 5 4H9C9 3.71667 9.096 3.479 9.288 3.287C9.47933 3.09567 9.71667 3 10 3H14C14.2833 3 14.521 3.09567 14.713 3.287C14.9043 3.479 15 3.71667 15 4H19C19.2833 4 19.5207 4.09567 19.712 4.287C19.904 4.479 20 4.71667 20 5C20 5.28333 19.904 5.521 19.712 5.713C19.5207 5.90433 19.2833 6 19 6V19C19 19.55 18.8043 20.021 18.413 20.413C18.021 20.8043 17.55 21 17 21H7ZM7 6V19H17V6H7ZM9 16C9 16.2833 9.096 16.5207 9.288 16.712C9.47933 16.904 9.71667 17 10 17C10.2833 17 10.521 16.904 10.713 16.712C10.9043 16.5207 11 16.2833 11 16V9C11 8.71667 10.9043 8.479 10.713 8.287C10.521 8.09567 10.2833 8 10 8C9.71667 8 9.47933 8.09567 9.288 8.287C9.096 8.479 9 8.71667 9 9V16ZM13 16C13 16.2833 13.096 16.5207 13.288 16.712C13.4793 16.904 13.7167 17 14 17C14.2833 17 14.521 16.904 14.713 16.712C14.9043 16.5207 15 16.2833 15 16V9C15 8.71667 14.9043 8.479 14.713 8.287C14.521 8.09567 14.2833 8 14 8C13.7167 8 13.4793 8.09567 13.288 8.287C13.096 8.479 13 8.71667 13 9V16Z\"/>\r\n        </svg>\r\n      </button>\r\n    </li>`\r\n  }\r\n\r\n  render() {\r\n    // this.$todoList.innerHTML = this.data.map((el) => this.#getTodoItemTemplate(el)).join('');\r\n    this.$todoList.innerHTML = this.data.map(this.#getTodoItemTemplate).join('');\r\n  }\r\n\r\n  #onTodoItemClick = (event) => {\r\n    const { target } = event;\r\n    const type = target?.dataset?.type;\r\n    if(type === 'remove') {\r\n      const id = target?.parentElement?.dataset?.id;\r\n      if (id) {\r\n        this.popupOpenClose(id);\r\n      }\r\n    };\r\n  }\r\n\r\n  #onPopupClick = (event) => {\r\n    const { dataset: {type, todoid} = {} } = event?.target || {};\r\n    console.log(event.target);\r\n    if(type === 'close') {\r\n      this.popupOpenClose();\r\n    }\r\n    if(type === 'yes' && todoid) {\r\n      this.remove(todoid);\r\n      this.render();\r\n      this.popupOpenClose();\r\n    }\r\n  }\r\n\r\n  popupOpenClose = (id) => {\r\n    const {classList} = this.$popup;\r\n    const $submitButton = this.$popup.querySelector('[data-type=\"yes\"]')\r\n\r\n    if(classList.contains('popup')) {\r\n      classList.remove('popup');\r\n      $submitButton.removeAttribute('data-todoid');\r\n    } else {\r\n      classList.add('popup');\r\n      $submitButton.setAttribute('data-todoid', id);\r\n    }\r\n  }\r\n\r\n  #onFormSubmit = (e) => {\r\n    const form = e.target;\r\n    e.preventDefault();\r\n    const text = new FormData(form).get('text');\r\n    if (text.trim()) {\r\n      const newTodo = this.add(text);\r\n      form.reset();\r\n      this.render();\r\n      setTimeout(() => {\r\n        newTodo.isNew = false;\r\n        this.render();\r\n      }, 1000)\r\n    };\r\n  }\r\n\r\n  #checkInput = (e) => {\r\n    const {value} = e.target;\r\n    // console.log(value);\r\n    if (value.trim()) {\r\n      this.$buttonSubmit.classList.add('active')\r\n    } else {\r\n      this.$buttonSubmit.classList.remove('active')\r\n    }\r\n  }\r\n\r\n  #onTodoItemToogle = (e) => {\r\n    const {id} = e.target.parentElement.parentElement.dataset;\r\n    this.toggle(id);\r\n    this.render();\r\n  }\r\n\r\n}\r\n\r\nwindow.addEventListener('DOMContentLoaded', () => {\r\n  const todoApp = new TodoListDom();\r\n});\r\n\r\n\r\n// ---------------------------------------------------------------------\r\n// const todoList = [];\r\n\r\n// const findTodoItemIndex = function findTodoItemIndex(id) {\r\n//   return todoList.findIndex(item => item.id === id);\r\n//   };\r\n\r\n// const addNewTodoItem = function addNewTodoItem(text) {\r\n//   todoList.push(new TodoItem(text));\r\n// };\r\n\r\n// const removeTodoItem = function removeTodoItem(id) {\r\n// const idx = findTodoItemIndex(id);\r\n// if (idx >= 0) {\r\n//   todoList.splice(idx, 1);\r\n// }\r\n// };\r\n\r\n// const toggleTodoDone = function toggleTodoDone(id) {\r\n//   const idx = findTodoItemIndex(id);\r\n//   if (idx >= 0) {\r\n//     const oldTodoItem = todoList[idx];\r\n//     const newTodoItem = { ...oldTodoItem, done: !oldTodoItem.done };\r\n//     todoList.splice(idx, 1, newTodoItem);\r\n//   }\r\n// };\r\n\r\n// window.addEventListener('DOMContentLoaded', () => {\r\n\r\n  // const $form = document.getElementById('todo');\r\n  // const $todoList = document.getElementById('todo-list');\r\n\r\n  // const render = function render() {\r\n  //   $todoList.innerHTML = todoList.map(todoItem => {\r\n  //     return `<li class=\"list__item\" data-id=\"${todoItem.id}\">${todoItem.text}<input class=\"list__checkbox-input\" type=\"checkbox\" ${todoItem.done ? 'checked' : ''}></input></li>`\r\n  //   }).join('');\r\n  //   console.log(todoList);\r\n  // };\r\n\r\n  // const onFormSubmit = function onFormSubmit(e) {\r\n  //   e.preventDefault();\r\n  //   const text = new FormData($form).get('text');\r\n  //   if (text.trim()) {\r\n  //     addNewTodoItem(text);\r\n  //     $form.reset();\r\n  //     render();\r\n  //   };\r\n  // };\r\n\r\n  // const toggle = function toggle(e) {\r\n  //   const {id} = e.target.parentElement.dataset;\r\n  //   toggleTodoDone(Number(id));\r\n  //   render();\r\n  // };\r\n\r\n  // $form.addEventListener('submit', onFormSubmit);\r\n  // $todoList.addEventListener('change', toggle);\r\n// });\r\n\r\n\r\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import REGEX from './regex.js';\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && REGEX.test(uuid);\n}\n\nexport default validate;","export default /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;"],"names":["$568f4ee4022ba00e$var$getRandomValues","$7ffc1f94643dc7e4$export$2e2bcd8739ae039","randomUUID","crypto","bind","$568f4ee4022ba00e$var$rnds8","Uint8Array","$1d0137947e8554ce$var$byteToHex","i","push","toString","slice","$3fa3ae484854b431$export$2e2bcd8739ae039","options","buf","offset","rnds","random","rng","getRandomValues","Error","arr","$ba322bfe4d533f91$var$TodoItem","done","constructor","text","id","isNew","$ba322bfe4d533f91$var$TodoLList","data","findTodoItemIndex","findIndex","item","add","todo","unshift","remove","idx","splice","toggle","console","log","oldTodoItem","newTodoItem","$ba322bfe4d533f91$var$TodoListDom","$form","document","getElementById","$formInput","$buttonSubmit","$todoList","$popup","addEventListener","onFormSubmit","onTodoItemToogle","onPopupClick","onTodoItemClick","checkInput","getTodoItemTemplate","todoItem","render","innerHTML","map","join","event","target","type","dataset","parentElement","popupOpenClose","todoid","classList","$submitButton","querySelector","contains","removeAttribute","setAttribute","e","form","preventDefault","FormData","get","trim","newTodo","reset","setTimeout","value","window"],"version":3,"file":"index.f90f99f5.js.map"}